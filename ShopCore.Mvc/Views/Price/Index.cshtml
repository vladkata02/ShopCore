@model ShopCore.Services.ViewModel.PriceEditorViewModel
@{
    ViewBag.Title = "Index";
    var username = Context.User.Identity.Name;
}

<h2>Edit price</h2>
<div class="container">
    <form method="post" enctype="multipart/form-data" asp-controller="Price" asp-action="Index">
        <div class="col-md-4" style="border: 2px solid grey; background-color:white">
            <div style="text-align: center; border-bottom: 2px solid blue">
                <h3> @Model.ItemName</h3>
            </div>
            <div>
                <div class="col-md-12">
                    @{
                        string imageBase64 = Convert.ToBase64String(Model.ImageContent);
                        string imageSrc = string.Format("data:image/.;base64,{0}", imageBase64);
                        <img src="@imageSrc" width="210" height="160" />
                    }
                </div>
                <div class="col-md-12" style="font-size: 18px">
                    <b>@Model.ItemBrand</b>
                </div>
            </div>

            <div class="form-group">
                Current Price of this item:
                <b>@Model.ItemPrice </b>

            </div>
            <div class="form-group">
                New Item Price :
                <input asp-for="CurrentPrice" />
            </div>
        </div>

        <div>
            <button name="button" value="@Model.ItemId" class="btn btn-primary" asp-controller="Price" asp-action="ChangePrice">Save</button>
            <button name="button" value="@Model.ItemId" class="btn btn-secondary" asp-controller="Price" asp-action="PriceHistory">View item`s price history</button>
        </div>
    </form>
</div>


